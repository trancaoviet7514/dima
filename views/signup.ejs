<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <title>Đăng sản phẩm mới</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/upload.css">
    <link href="https://fonts.googleapis.com/css?family=Beth+Ellen&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Beth+Ellen|Roboto&display=swap" rel="stylesheet">
</head>

<body>
    <div class="login-box">
        <h1>Đăng sản phẩm mới</h1>
        <form autocomplete="off" name="myform" action="/upload" method="post" enctype="multipart/form-data">
            <div class="textbox">
                <h3>Tên sản phẩm</h3>
                <input type="text" placeholder="Tên sản phẩm" name="name" required="" oninvalid="this.setCustomValidity('Vui lòng nhập tên sản phẩm')"
                oninput="setCustomValidity('')">
            </div>
            <div class="textbox">
                <h3>Giá bán (VNĐ)</h3>
                <input type="number" placeholder="Giá bán" name="price" required="" oninvalid="this.setCustomValidity('Vui lòng nhập giá sản phẩm')"
                oninput="setCustomValidity('')">
            </div>
            <div class="textbox">
                <h3>Hình ảnh</h3>
                <input type="file" accept="image/*" name="photo" required="" oninvalid="this.setCustomValidity('Vui lòng chọn hình ảnh')"
                oninput="setCustomValidity('')">
            </div>
            <div class="textbox">
                    <h3>Điện thoại</h3>
                    <input type="number" placeholder="Điện thoại" name="phone" required="" oninvalid="this.setCustomValidity('Vui lòng nhập số điện thoại liên hệ')"
                    oninput="setCustomValidity('')">
                </div>
            <input type="submit" class="btn" name="" value="Đăng Sách">
            <a href="http://localhost:3000" class="sign-up">
                <p>Quay lại trang chủ</p>
            </a>
        </form>
    </div>
</body>
</html> -->

<!DOCTYPE html>
<html>
<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/css/ratchet.css" rel="stylesheet" />

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/upload.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
</head>

<body>
    <div class="bg-img">
        <form action="/sigup" class="container" method="post" enctype="multipart/form-data">
            <h1>Tạo tài khoản mới</h1>

            <!-- <label for="username"><b>Tên đăng nhập</b></label> -->
            <input type="text" placeholder="Tên đăng nhập" name="username" required=""
                oninvalid="this.setCustomValidity('Vui lòng nhập tên đăng nhập')" oninput="setCustomValidity('')">

            <!-- <label for="password"><b>Mật khẩu</b></label> -->
            <input type="password" placeholder="Mật khẩu" name="password"  required=""
            oninvalid="this.setCustomValidity('Vui lòng nhập mật khẩu')" oninput="setCustomValidity('')">

            <!-- <label for="rePassword"><b>Mật khẩu</b></label> -->
            <input type="password" placeholder="Nhập lại mật khẩu" name="rePassword"  required=""
            oninvalid="this.setCustomValidity('Vui lòng nhập lại mật khẩu')" oninput="setCustomValidity('')">

            <!-- <label for="price"><b>Giá</b></label>
            <input type="password" placeholder="Nhập mật khẩu" name="price" id="priceId" required=""
                oninvalid="this.setCustomValidity('Vui lòng nhập giá sản phẩm')" oninput="setCustomValidity('')"
                onkeypress="return isNumberKey(event)">

            <label for="phone"><b>Điện thoại</b></label>
            <input type="text" placeholder="Nhập số điện thoại" name="phone" id="phonenumberId" required=""
                oninvalid="this.setCustomValidity('Vui lòng nhập số điện thoại liên hệ')"
                oninput="setCustomValidity('')" onkeyup="return displayWordCounter();"
                onkeypress="return isNumberKey(event)">

            <label for="imageUpload" class="btn btn-primary btn-block chooseFile" id="Label1">Nhấp vào tôi để chọn
                    ảnh</label>
            <input type="file" accept="image/*" name="photo" required="" id="imageUpload" style="display: none"
                oninvalid="this.setCustomValidity('Vui lòng chọn hình ảnh')" oninput="setCustomValidity('')"> -->

            <button type="submit" class="btn">Đăng ký</button>

            <a href="http://localhost:3000/login">
                <p>Đăng nhập</p>
            </a>

            <a href="http://localhost:3000">
                <p>Quay lại trang chủ</p>
            </a>
        </form>
    </div>
</body>
<script>
    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode
        if (charCode > 31 && (charCode < 48 || charCode > 57))
            return false;
        return true;
    }

    // validate phone number
    var setTotalNumberOfWordCounter = "10";
    function displayWordCounter() {
        var textValue = document.getElementsByName("phone")[0].value;
        textValue = textValue.replace(/ /g, '');
        var gettextLength = textValue.length;

        if (gettextLength == setTotalNumberOfWordCounter) {
            textValue = textValue.replace(/(\d{4})(\d{3})(\d{3})/, "$1 $2 $3");
            document.getElementsByName("phone")[0].value = textValue;
        }

        if (gettextLength > setTotalNumberOfWordCounter) {
            textValue = textValue.replace(/ /g, '');
            textValue = textValue.substring(0, setTotalNumberOfWordCounter);
            textValue = textValue.replace(/(\d{4})(\d{3})(\d{3})/, "$1 $2 $3");
            document.getElementsByName("phone")[0].value = textValue;
            return false;
        }
    }

    // format price
    $('#priceId').keyup(function () {
        var a = $(this).val();
        var temp = a.replace(/,/g, '');
        var curren = temp.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
        document.getElementById("priceId").value = curren;
    });

    // format phone number
    // $('#phonenumberId').keyup(function () {
    //     var a = $(this).val();
    //     var temp = a.replace(/ /g, '');
    //     console.log(a + "  " + temp);
    //     if(temp.length==10){
    //         var result = temp.replace(/(\d{4})(\d{3})(\d{3})/, "$1 $2 $3");
    //         document.getElementById("phonenumberId").value = result;
    //     }
    // });

    // file
    $(document).ready(function(){
        $('input[type="file"]').change(function(e){
            var fileName = e.target.files[0].name;
            document.getElementById('Label1').innerHTML = fileName;
        });
    });
</script>

</html>